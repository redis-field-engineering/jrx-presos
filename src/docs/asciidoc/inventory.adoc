= Real-Time Inventory: with Redis Enterprise  
:imagesdir: images/inventory
:icons: font
:iconfont-remote!:
:iconfont-name: fonts/fontawesome/css/all

Julien Ruaux <mailto:julien@redislabs.com[julien@redislabs.com]>

== Real-Time Inventory
[%step]
* Qu'est-ce que c'est?
* Solution
* Demo

== Inventory
[.col3-l]
--
*What*
--

[.col3-c]
--
is available
--

[.col3-r]
--
*Where*
--

[.fragment.col3-l]
--
.icon:angle-double-down[]
icon:shopping-bag[] Products
--

[.fragment.col3-r]
--
.icon:angle-double-down[]
icon:store[] Nodes
--

[.notes]
--
* Some retailers reference 1M+ SKUs
* 1 product => many SKUs (shirt size/color/style) 
* Node = store or DC
--

== Item Availability
[%step]
* Buckets for supply & demand tracking
* What's really available?
* *Available to Promise (ATP)*: Supply - Demand

[.notes]
--
* Can we show a sku as available on website? Factors:
** On hand (actual)
** price
** product
** store
** sales velocity
** cost to fulfill
** order status
** laws and regulations
** location
--

== Business Benefits
[%step]
* Omni-channel view
* Optimize inventory and supply-chain
* Yield management

[.notes]
--
* Consistency across channels (mobile, web, stores, ...)
* Enable ship to/from store, find/reserve in store, ...
** ATP based on geo instead of just local store
*** Optimize order fulfillment / shipping costs
** Forecast relies on RT data vs historical
** Reduce excess inventory costs and unnecessary shipping
** allocate inventory to highest margin locations
--

== Challenge: Performance
[%step]
* Volume
* Velocity

[.notes]
--
* Volume: 1000 Stores * 100,1000 SKUS => 100M Store/SKU combinations
* Velocity: 1000s inventory updates/sec
--

== Performance
image::web-performance.png[width=75%]

== Challenge: Accuracy
[%step]
* Consistency between stores and datacenters 
* Geo-distribution

== Inventory Inaccuracy
[%step]
* Poor customer experience
* Shopping cart abandonment
* Reduced brand-loyalty
* Remediation: refund, waiting list, cancellation, ...

== Inventory Consumers
[%step]
* e-Commerce
* Find/Reserve in Store
* Order Sourcing
* Store Allocation

== Architecture
image::inventory-architecture.svg[]

== Inventory Queries
Finding inventory for: 

[%step]
* a given Node and SKU
* a given a set of SKUs and store capabilities
* a given a set of SKUs in a geographic area  

[.fragment]
--
=> RediSearch to the rescue
--

== Demo
image::brewdis-architecture.svg[]

== Data Model
[options="header"]
|===
| Key | OnHand | Allocated | Hold | ...
|store1:sku1|1012|100|10|
|store1:sku2|123|20|0|
|store2:sku1|367|46|1|
|===

[.left]
== Requests
[.fragment]
--
[source,sql]
.For a given Node and SKU
----
FT.GET inventory store1:sku1
----
--

[.fragment]
--
[source,sql]
.For a given set of SKUs and store capabilities
----
FT.SEARCH inventory "@sku:{sku1 sku2} @capability:{POBox ShipToStore}"
----
--

[.fragment]
--
[source,sql]
.For a given set of SKUs in a geographic area
----
FT.SEARCH inventory "@sku:{sku1 sku2} @location:[-72 34 10 mi]"
----
--

== Redis Enterprise
[%step]
* High Performance
* Linear Scalability
* High Availability 
* Multi-model: no tech sprawl

[.notes]
--
* Brewdis: 3500 Stores worldwide, 30,000 SKUs
* Product Catalog: full text + secondary indexing (tag, numeric, geo)
* Item availability: what is available and where? geo filters
* Real-Time Inventory: streaming store/sku updates 
--

== What's next
[%step]
* Active/Active RediSearch indexes
* Server-side updates & streaming with Gears

== Resources
[.col3-l]
--
.*Brewdis*
* https://brewdis.demo.redislabs.com[Live Demo]
* http://github.com/Redislabs-Solution-Architects/brewdis/[Code]
--

[.col3-c]
--
.*These slides*
image:qrcode.svg[http://bit.ly/rtinventory] +
[emphasize]#*http://bit.ly/rtinventory*#
--